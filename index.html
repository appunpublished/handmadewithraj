<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>handmadewithraj - Artisan Crochet Creations</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>
  <script src="./js/firebase-web-config.js"></script>
  <script src="./js/firebase-web-config.local.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&amp;family=Nunito+Sans:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            ivory: '#FFFEF7',
            peach: '#FFE5D9',
            blush: '#FFCDB2',
            terracotta: '#E29578',
            mocha: '#83665A',
            charcoal: '#2D2D2D'
          },
          fontFamily: {
            serif: ['Cormorant Garamond', 'Georgia', 'serif'],
            sans: ['Nunito Sans', 'system-ui', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    html, body { height: 100%; }
    .app-wrapper { height: 100%; overflow-y: auto; overflow-x: hidden; }
    * { box-sizing: border-box; }
    img { max-width: 100%; height: auto; }
    
    /* Smooth scrolling */
    html { scroll-behavior: smooth; }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #FFFEF7; }
    ::-webkit-scrollbar-thumb { background: #E29578; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #83665A; }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes pulse-soft {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
    .animate-slide-in { animation: slideIn 0.5s ease-out forwards; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }
    
    /* Staggered animations */
    .stagger-1 { animation-delay: 0.1s; opacity: 0; }
    .stagger-2 { animation-delay: 0.2s; opacity: 0; }
    .stagger-3 { animation-delay: 0.3s; opacity: 0; }
    .stagger-4 { animation-delay: 0.4s; opacity: 0; }
    .stagger-5 { animation-delay: 0.5s; opacity: 0; }
    
    /* Product card hover effects */
    .product-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(131, 102, 90, 0.15);
    }
    .product-card:hover .product-image {
      transform: scale(1.05);
    }
    .product-image {
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Button styles */
    .btn-primary {
      background: linear-gradient(135deg, #E29578 0%, #83665A 100%);
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(226, 149, 120, 0.4);
    }
    
    /* Hero gradient overlay */
    .hero-gradient {
      background: linear-gradient(135deg, rgba(255, 254, 247, 0.95) 0%, rgba(255, 229, 217, 0.9) 50%, rgba(255, 205, 178, 0.85) 100%);
    }
    
    /* Navigation underline effect */
    .nav-link {
      position: relative;
    }
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: #E29578;
      transition: width 0.3s ease;
    }
    .nav-link:hover::after,
    .nav-link.active::after {
      width: 100%;
    }
    
    /* Category pill styles */
    .category-pill {
      transition: all 0.3s ease;
    }
    .category-pill:hover,
    .category-pill.active {
      background: #E29578;
      color: white;
      transform: scale(1.05);
    }
    
    /* Toast notification */
    .toast {
      animation: slideInRight 0.3s ease-out;
    }
    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    /* Modal backdrop */
    .modal-backdrop {
      backdrop-filter: blur(8px);
    }
    
    /* Input focus styles */
    .input-field:focus {
      border-color: #E29578;
      box-shadow: 0 0 0 3px rgba(226, 149, 120, 0.2);
    }
    
    /* Crochet pattern background */
    .crochet-pattern {
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23E29578' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    @media (max-width: 640px) {
      #toast-container .toast {
        width: 100%;
        border-radius: 0.875rem;
        justify-content: center;
      }
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
 </head>
 <body class="h-full bg-ivory font-sans text-charcoal">
  <div class="app-wrapper" id="app"><!-- Toast Container -->
   <div id="toast-container" class="fixed top-20 left-4 right-4 sm:left-auto sm:right-4 z-50 space-y-2"></div><!-- Header -->
   <header id="header" class="fixed top-0 left-0 right-0 z-40 bg-ivory/95 backdrop-blur-sm border-b border-peach/30 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex items-center justify-between h-16 sm:h-20"><!-- Logo --> <a href="#" onclick="navigateTo('home')" class="flex items-center space-x-2 group">
       <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-terracotta to-mocha rounded-full flex items-center justify-center group-hover:animate-pulse-soft">
        <svg class="w-6 h-6 sm:w-7 sm:h-7 text-ivory" viewbox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" /> <circle cx="12" cy="12" r="3" fill="currentColor" />
        </svg>
       </div>
       <div class="hidden sm:block">
        <h1 id="brand-name-header" class="font-serif text-xl sm:text-2xl font-semibold text-mocha">handmadewithraj</h1>
        <p id="tagline-header" class="text-xs text-terracotta -mt-1">Artisan Crochet Creations</p>
       </div></a> <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8"><a href="#" onclick="navigateTo('home')" class="nav-link text-mocha hover:text-terracotta font-medium" data-page="home">Home</a> <a href="#" onclick="navigateTo('shop')" class="nav-link text-mocha hover:text-terracotta font-medium" data-page="shop">Shop</a> <a href="#" onclick="navigateTo('about')" class="nav-link text-mocha hover:text-terracotta font-medium" data-page="about">About</a> <a href="#" onclick="navigateTo('contact')" class="nav-link text-mocha hover:text-terracotta font-medium" data-page="contact">Contact</a>
      </nav><!-- Right Actions -->
      <div class="flex items-center space-x-3 sm:space-x-4"><!-- Search --> <button onclick="toggleSearch()" class="p-2 text-mocha hover:text-terracotta transition-colors">
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg></button> <!-- Wishlist --> <button onclick="navigateTo('wishlist')" class="p-2 text-mocha hover:text-terracotta transition-colors relative">
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg><span id="wishlist-count" class="absolute -top-1 -right-1 w-4 h-4 bg-terracotta text-white text-xs rounded-full flex items-center justify-center hidden">0</span> </button> <!-- Cart --> <button onclick="toggleCart()" class="p-2 text-mocha hover:text-terracotta transition-colors relative">
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
       </svg><span id="cart-count" class="absolute -top-1 -right-1 w-5 h-5 bg-terracotta text-white text-xs rounded-full flex items-center justify-center">0</span> </button> <!-- Mobile Menu Button --> <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-mocha">
        <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
     </div><!-- Search Bar -->
     <div id="search-bar" class="hidden pb-4">
      <div class="relative"><input type="text" id="search-input" placeholder="Search for keychains, toys, accessories..." class="w-full px-4 py-3 pl-12 bg-white border border-peach/50 rounded-full text-charcoal placeholder-mocha/50 input-field focus:outline-none" onkeyup="handleSearch(event)">
       <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-mocha/50" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
       </svg>
      </div>
     </div>
    </div><!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-ivory border-t border-peach/30">
     <div class="px-4 py-4 space-y-3"><a href="#" onclick="navigateTo('home'); toggleMobileMenu()" class="block py-2 text-mocha hover:text-terracotta font-medium">Home</a> <a href="#" onclick="navigateTo('shop'); toggleMobileMenu()" class="block py-2 text-mocha hover:text-terracotta font-medium">Shop</a> <a href="#" onclick="navigateTo('about'); toggleMobileMenu()" class="block py-2 text-mocha hover:text-terracotta font-medium">About</a> <a href="#" onclick="navigateTo('contact'); toggleMobileMenu()" class="block py-2 text-mocha hover:text-terracotta font-medium">Contact</a>
     </div>
    </div>
   </header><!-- Main Content -->
   <main class="pt-16 sm:pt-20"><!-- HOME PAGE -->
    <div id="page-home" class="page"><!-- Hero Section -->
     <section class="relative min-h-[500px] sm:min-h-[600px] flex items-center crochet-pattern">
      <div class="hero-gradient absolute inset-0"></div>
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-20">
       <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
        <div class="text-center lg:text-left animate-fade-in"><span class="inline-block px-4 py-1 bg-terracotta/20 text-terracotta rounded-full text-sm font-medium mb-4">‚ú® Handcrafted with Love</span>
         <h1 id="hero-title" class="font-serif text-3xl sm:text-5xl lg:text-6xl font-bold text-mocha leading-tight mb-6">Beautiful Crochet<br><span class="text-terracotta">Creations</span></h1>
         <p class="text-lg sm:text-xl text-mocha/80 mb-8 max-w-lg mx-auto lg:mx-0">Discover unique handmade keychains, adorable toys, and elegant accessories crafted with premium yarn and endless creativity.</p>
         <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"><button onclick="navigateTo('shop')" class="btn-primary px-8 py-4 text-ivory font-semibold rounded-full"> Shop Collection </button> <button onclick="navigateTo('about')" class="px-8 py-4 border-2 border-mocha text-mocha font-semibold rounded-full hover:bg-mocha hover:text-ivory transition-all"> Our Story </button>
         </div>
        </div>
        <div class="relative animate-fade-in stagger-2">
         <div class="relative w-full max-w-md mx-auto"><!-- Decorative circles -->
          <div class="absolute -top-4 -left-4 w-72 h-72 bg-blush/40 rounded-full blur-3xl"></div>
          <div class="absolute -bottom-4 -right-4 w-64 h-64 bg-peach/50 rounded-full blur-3xl"></div><!-- Hero Image Grid -->
          <div class="relative grid grid-cols-2 gap-4">
           <div class="space-y-4">
            <div class="bg-white rounded-2xl p-4 shadow-lg animate-float" style="animation-delay: 0s;">
             <div class="w-full aspect-square bg-gradient-to-br from-peach to-blush rounded-xl flex items-center justify-center"><span class="text-6xl">üß∂</span>
             </div>
             <p class="text-center text-sm text-mocha mt-2 font-medium">Keychains</p>
            </div>
            <div class="bg-white rounded-2xl p-4 shadow-lg animate-float" style="animation-delay: 0.5s;">
             <div class="w-full aspect-square bg-gradient-to-br from-blush to-terracotta/30 rounded-xl flex items-center justify-center"><span class="text-6xl">üéÄ</span>
             </div>
             <p class="text-center text-sm text-mocha mt-2 font-medium">Accessories</p>
            </div>
           </div>
           <div class="space-y-4 pt-8">
            <div class="bg-white rounded-2xl p-4 shadow-lg animate-float" style="animation-delay: 0.25s;">
             <div class="w-full aspect-square bg-gradient-to-br from-terracotta/20 to-peach rounded-xl flex items-center justify-center"><span class="text-6xl">üß∏</span>
             </div>
             <p class="text-center text-sm text-mocha mt-2 font-medium">Toys</p>
            </div>
            <div class="bg-white rounded-2xl p-4 shadow-lg animate-float" style="animation-delay: 0.75s;">
             <div class="w-full aspect-square bg-gradient-to-br from-peach to-ivory rounded-xl flex items-center justify-center"><span class="text-6xl">üíù</span>
             </div>
             <p class="text-center text-sm text-mocha mt-2 font-medium">Gifts</p>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </section><!-- Categories Section -->
     <section class="py-16 sm:py-20 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-4 animate-fade-in">Shop by Category</h2>
        <p class="text-mocha/70 max-w-2xl mx-auto">Explore our handcrafted collections, each piece made with love and attention to detail</p>
       </div>
       <div id="home-category-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6"></div>
      </div>
     </section><!-- Featured Products Section -->
     <section class="py-16 sm:py-20 bg-ivory crochet-pattern">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="flex flex-col sm:flex-row justify-between items-center mb-12">
        <div class="text-center sm:text-left mb-6 sm:mb-0">
         <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-2">Featured Creations</h2>
         <p class="text-mocha/70">Our most loved handmade pieces</p>
        </div><button onclick="navigateTo('shop')" class="text-terracotta font-medium hover:text-mocha transition-colors flex items-center gap-2"> View All 
         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
         </svg></button>
       </div>
       <div id="featured-products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"><!-- Products will be rendered here -->
       </div>
       <div id="no-featured-products" class="hidden text-center py-12">
        <div class="w-24 h-24 bg-peach/30 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-5xl">üß∂</span>
        </div>
        <h3 class="font-serif text-xl text-mocha mb-2">No products yet</h3>
        <p class="text-mocha/60 mb-6">Check back soon for beautiful handmade creations!</p>
       </div>
      </div>
     </section><!-- Testimonials Section -->
     <section class="py-16 sm:py-20 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-4">Happy Customers</h2>
        <p class="text-mocha/70">What our customers say about their handmade treasures</p>
       </div>
       <div class="grid md:grid-cols-3 gap-6 sm:gap-8">
        <div class="bg-gradient-to-br from-peach/30 to-ivory p-6 sm:p-8 rounded-2xl animate-fade-in stagger-1">
         <div class="flex items-center gap-1 mb-4"><span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span>
         </div>
         <p class="text-mocha/80 italic mb-6">"The cutest keychain I've ever owned! The quality is amazing and you can tell it's made with so much love. Already planning my next order!"</p>
         <div class="flex items-center gap-3">
          <div class="w-12 h-12 bg-terracotta/20 rounded-full flex items-center justify-center"><span class="text-xl">üë©</span>
          </div>
          <div>
           <p class="font-semibold text-mocha">Priya S.</p>
           <p class="text-sm text-mocha/60">Mumbai</p>
          </div>
         </div>
        </div>
        <div class="bg-gradient-to-br from-blush/30 to-ivory p-6 sm:p-8 rounded-2xl animate-fade-in stagger-2">
         <div class="flex items-center gap-1 mb-4"><span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span>
         </div>
         <p class="text-mocha/80 italic mb-6">"Ordered a custom amigurumi for my daughter's birthday. She was absolutely thrilled! Mrs. Rajendri's attention to detail is incredible."</p>
         <div class="flex items-center gap-3">
          <div class="w-12 h-12 bg-terracotta/20 rounded-full flex items-center justify-center"><span class="text-xl">üë®</span>
          </div>
          <div>
           <p class="font-semibold text-mocha">Arjun M.</p>
           <p class="text-sm text-mocha/60">Delhi</p>
          </div>
         </div>
        </div>
        <div class="bg-gradient-to-br from-terracotta/20 to-ivory p-6 sm:p-8 rounded-2xl animate-fade-in stagger-3">
         <div class="flex items-center gap-1 mb-4"><span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span> <span class="text-yellow-400">‚òÖ</span>
         </div>
         <p class="text-mocha/80 italic mb-6">"These hair accessories are gorgeous! I've received so many compliments. Supporting small businesses has never felt so good."</p>
         <div class="flex items-center gap-3">
          <div class="w-12 h-12 bg-terracotta/20 rounded-full flex items-center justify-center"><span class="text-xl">üë©</span>
          </div>
          <div>
           <p class="font-semibold text-mocha">Ananya K.</p>
           <p class="text-sm text-mocha/60">Bangalore</p>
          </div>
         </div>
        </div>
       </div>
      </div>
     </section><!-- Newsletter Section -->
     <section class="py-16 sm:py-20 bg-gradient-to-br from-terracotta to-mocha">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
       <h2 class="font-serif text-3xl sm:text-4xl font-bold text-ivory mb-4">Stay in the Loop</h2>
       <p class="text-ivory/80 mb-8 max-w-2xl mx-auto">Subscribe to get updates on new creations, special offers, and behind-the-scenes peeks into the creative process!</p>
       <form onsubmit="handleNewsletterSubmit(event)" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto"><input type="email" id="newsletter-email" placeholder="Enter your email" required class="flex-1 px-6 py-4 rounded-full text-charcoal placeholder-mocha/50 focus:outline-none focus:ring-2 focus:ring-peach"> <button type="submit" class="px-8 py-4 bg-ivory text-mocha font-semibold rounded-full hover:bg-peach transition-colors"> Subscribe </button>
       </form>
      </div>
     </section>
    </div><!-- SHOP PAGE -->
    <div id="page-shop" class="page hidden">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"><!-- Breadcrumb -->
      <nav class="flex items-center gap-2 text-sm text-mocha/60 mb-8"><a href="#" onclick="navigateTo('home')" class="hover:text-terracotta">Home</a> <span>/</span> <span class="text-mocha">Shop</span>
      </nav>
      <div class="flex flex-col lg:flex-row gap-8"><!-- Sidebar Filters -->
       <aside class="lg:w-64 flex-shrink-0">
        <div class="bg-white rounded-2xl p-6 shadow-sm sticky top-28">
         <h3 class="font-serif text-xl font-semibold text-mocha mb-6">Filters</h3><!-- Categories -->
         <div class="mb-6">
          <h4 class="font-medium text-mocha mb-3">Categories</h4>
          <div id="category-filters" class="space-y-2"></div>
         </div><!-- Price Range -->
         <div class="mb-6">
          <h4 class="font-medium text-mocha mb-3">Price Range</h4>
          <div class="space-y-2"><label class="flex items-center gap-3 cursor-pointer group"> <input type="radio" name="price" value="all" checked onchange="filterByPrice('all')" class="w-4 h-4 text-terracotta focus:ring-terracotta"> <span class="text-mocha/80 group-hover:text-terracotta transition-colors">All Prices</span> </label> <label class="flex items-center gap-3 cursor-pointer group"> <input type="radio" name="price" value="0-200" onchange="filterByPrice('0-200')" class="w-4 h-4 text-terracotta focus:ring-terracotta"> <span class="text-mocha/80 group-hover:text-terracotta transition-colors">Under ‚Çπ200</span> </label> <label class="flex items-center gap-3 cursor-pointer group"> <input type="radio" name="price" value="200-500" onchange="filterByPrice('200-500')" class="w-4 h-4 text-terracotta focus:ring-terracotta"> <span class="text-mocha/80 group-hover:text-terracotta transition-colors">‚Çπ200 - ‚Çπ500</span> </label> <label class="flex items-center gap-3 cursor-pointer group"> <input type="radio" name="price" value="500+" onchange="filterByPrice('500+')" class="w-4 h-4 text-terracotta focus:ring-terracotta"> <span class="text-mocha/80 group-hover:text-terracotta transition-colors">Above ‚Çπ500</span> </label>
          </div>
         </div><!-- Sort -->
         <div>
          <h4 class="font-medium text-mocha mb-3">Sort By</h4><select onchange="sortProducts(this.value)" class="w-full px-4 py-2 border border-peach/50 rounded-lg text-mocha focus:outline-none focus:ring-2 focus:ring-terracotta/30"> <option value="newest">Newest First</option> <option value="price-low">Price: Low to High</option> <option value="price-high">Price: High to Low</option> <option value="name">Name: A to Z</option> </select>
         </div>
        </div>
       </aside><!-- Products Grid -->
       <div class="flex-1">
        <div class="flex items-center justify-between mb-6">
         <h1 class="font-serif text-2xl sm:text-3xl font-bold text-mocha">All Products</h1><span id="product-count" class="text-mocha/60 text-sm">0 products</span>
        </div>
        <div id="shop-products-grid" class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"><!-- Products will be rendered here -->
        </div>
        <div id="no-shop-products" class="hidden text-center py-16">
         <div class="w-32 h-32 bg-peach/30 rounded-full flex items-center justify-center mx-auto mb-6"><span class="text-6xl">üß∂</span>
         </div>
         <h3 class="font-serif text-2xl text-mocha mb-3">No products found</h3>
         <p class="text-mocha/60 mb-6">Try adjusting your filters or check back soon!</p><button onclick="resetFilters()" class="px-6 py-3 bg-terracotta text-ivory rounded-full hover:bg-mocha transition-colors"> Reset Filters </button>
        </div>
       </div>
      </div>
     </div>
    </div><!-- PRODUCT DETAIL PAGE -->
    <div id="page-product" class="page hidden">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"><!-- Breadcrumb -->
      <nav class="flex items-center gap-2 text-sm text-mocha/60 mb-8"><a href="#" onclick="navigateTo('home')" class="hover:text-terracotta">Home</a> <span>/</span> <a href="#" onclick="navigateTo('shop')" class="hover:text-terracotta">Shop</a> <span>/</span> <span id="product-breadcrumb" class="text-mocha">Product</span>
      </nav>
      <div class="grid lg:grid-cols-2 gap-8 lg:gap-12"><!-- Product Images -->
       <div class="space-y-4">
        <div id="product-main-image" class="aspect-square bg-gradient-to-br from-peach/50 to-blush/50 rounded-3xl flex items-center justify-center overflow-hidden"><span class="text-9xl">üß∂</span>
        </div>
        <div class="flex gap-3"><button class="w-20 h-20 bg-gradient-to-br from-peach/30 to-blush/30 rounded-xl flex items-center justify-center border-2 border-terracotta"> <span class="text-3xl">üß∂</span> </button> <button class="w-20 h-20 bg-gradient-to-br from-peach/30 to-blush/30 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-terracotta/50 transition-colors"> <span class="text-3xl">üì¶</span> </button> <button class="w-20 h-20 bg-gradient-to-br from-peach/30 to-blush/30 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-terracotta/50 transition-colors"> <span class="text-3xl">üéÅ</span> </button>
        </div>
       </div><!-- Product Info -->
       <div><span id="product-category-badge" class="inline-block px-3 py-1 bg-terracotta/20 text-terracotta rounded-full text-sm font-medium mb-4">Keychain</span>
        <h1 id="product-title" class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-4">Product Name</h1>
        <div class="flex items-center gap-2 mb-6">
         <div class="flex text-yellow-400">
          ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
         </div><span class="text-mocha/60 text-sm">(12 reviews)</span>
        </div>
        <p id="product-price" class="text-3xl font-bold text-terracotta mb-6">‚Çπ199</p>
        <p id="product-description" class="text-mocha/80 leading-relaxed mb-8">Beautifully handcrafted crochet piece made with premium soft cotton yarn. Each piece is unique and made with love.</p><!-- Quantity -->
        <div class="mb-6"><label class="block text-sm font-medium text-mocha mb-2">Quantity</label>
         <div class="flex items-center gap-3"><button onclick="decrementQuantity()" class="w-10 h-10 border border-peach rounded-lg flex items-center justify-center text-mocha hover:bg-peach/30 transition-colors">-</button> <input type="number" id="product-quantity" value="1" min="1" class="w-20 text-center py-2 border border-peach rounded-lg text-mocha focus:outline-none focus:ring-2 focus:ring-terracotta/30"> <button onclick="incrementQuantity()" class="w-10 h-10 border border-peach rounded-lg flex items-center justify-center text-mocha hover:bg-peach/30 transition-colors">+</button>
         </div>
        </div><!-- Actions -->
        <div class="flex flex-col sm:flex-row gap-4 mb-8"><button onclick="addCurrentProductToCart()" class="btn-primary flex-1 px-8 py-4 text-ivory font-semibold rounded-full flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
          </svg> Add to Cart </button> <button onclick="addCurrentProductToWishlist()" class="px-6 py-4 border-2 border-mocha text-mocha font-semibold rounded-full hover:bg-mocha hover:text-ivory transition-all flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
          </svg> Wishlist </button>
        </div><!-- Share -->
        <div class="flex items-center gap-4 pt-6 border-t border-peach/30"><span class="text-sm text-mocha/60">Share:</span> <button class="w-10 h-10 bg-peach/30 rounded-full flex items-center justify-center text-mocha hover:bg-terracotta hover:text-ivory transition-all">
          <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
           <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
          </svg></button> <button class="w-10 h-10 bg-peach/30 rounded-full flex items-center justify-center text-mocha hover:bg-terracotta hover:text-ivory transition-all">
          <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
           <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
          </svg></button> <button onclick="shareOnWhatsApp()" class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white hover:bg-green-600 transition-all">
          <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
           <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
          </svg></button>
        </div>
       </div>
      </div><!-- Similar Products -->
      <div class="mt-16">
       <h2 class="font-serif text-2xl sm:text-3xl font-bold text-mocha mb-8">You May Also Like</h2>
       <div id="similar-products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"><!-- Similar products will be rendered here -->
       </div>
      </div>
     </div>
    </div><!-- ABOUT PAGE -->
    <div id="page-about" class="page hidden"><!-- Hero -->
     <section class="relative py-20 bg-gradient-to-br from-peach/50 to-blush/30 crochet-pattern">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
       <h1 id="about-title" class="font-serif text-3xl sm:text-5xl font-bold text-mocha mb-6 animate-fade-in">Our Story</h1>
       <p class="text-xl text-mocha/80 animate-fade-in stagger-1">The heart and soul behind every stitch</p>
      </div>
     </section><!-- Story Section -->
     <section class="py-16 sm:py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="relative animate-fade-in">
         <div class="absolute -top-6 -left-6 w-48 h-48 bg-peach/30 rounded-full blur-3xl"></div>
         <div class="relative bg-gradient-to-br from-peach to-blush rounded-3xl p-8 aspect-square flex items-center justify-center">
          <div class="text-center"><span class="text-8xl sm:text-9xl">üë©‚Äçüé®</span>
           <p id="founder-name" class="font-serif text-2xl text-mocha mt-4">Mrs. Rajendri</p>
           <p class="text-mocha/60">Founder &amp; Artisan</p>
          </div>
         </div>
        </div>
        <div class="animate-fade-in stagger-2"><span class="inline-block px-4 py-1 bg-terracotta/20 text-terracotta rounded-full text-sm font-medium mb-6">Meet the Maker</span>
         <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-6">A Passion Born from Creativity</h2>
         <div class="space-y-4 text-mocha/80 leading-relaxed">
          <p>Hello! I'm Mrs. Rajendri, and welcome to my little corner of handmade happiness. My journey with crochet began as a child, watching my grandmother create magic with just a hook and yarn. Those cozy afternoons filled with the soft rhythm of stitches planted a seed that would bloom into my life's passion.</p>
          <p>After years of creating pieces for friends and family, I decided to share my creations with the world. Each keychain, toy, and accessory you see here is handcrafted by me with premium materials and endless love.</p>
          <p>I believe that handmade items carry a special energy ‚Äì the warmth of human touch, the patience of each stitch, and the joy of creating something unique. When you hold one of my pieces, you're holding hours of dedication and a piece of my heart.</p>
         </div>
         <div class="mt-8 flex items-center gap-4"><button onclick="navigateTo('contact')" class="btn-primary px-6 py-3 text-ivory font-semibold rounded-full"> Get in Touch </button> <button onclick="navigateTo('shop')" class="px-6 py-3 border-2 border-mocha text-mocha font-semibold rounded-full hover:bg-mocha hover:text-ivory transition-all"> Shop Now </button>
         </div>
        </div>
       </div>
      </div>
     </section><!-- Values Section -->
     <section class="py-16 sm:py-20 bg-ivory crochet-pattern">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-4">What I Believe In</h2>
        <p class="text-mocha/70 max-w-2xl mx-auto">Every creation is guided by these core values</p>
       </div>
       <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="bg-white rounded-2xl p-8 text-center shadow-sm animate-fade-in stagger-1">
         <div class="w-16 h-16 bg-peach/50 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">üíù</span>
         </div>
         <h3 class="font-serif text-xl font-semibold text-mocha mb-3">Made with Love</h3>
         <p class="text-mocha/70">Every stitch carries intention, care, and genuine passion for the craft.</p>
        </div>
        <div class="bg-white rounded-2xl p-8 text-center shadow-sm animate-fade-in stagger-2">
         <div class="w-16 h-16 bg-blush/50 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">üåø</span>
         </div>
         <h3 class="font-serif text-xl font-semibold text-mocha mb-3">Quality Materials</h3>
         <p class="text-mocha/70">Only the finest yarns and materials that are soft, durable, and safe.</p>
        </div>
        <div class="bg-white rounded-2xl p-8 text-center shadow-sm animate-fade-in stagger-3">
         <div class="w-16 h-16 bg-terracotta/20 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-3xl">‚ú®</span>
         </div>
         <h3 class="font-serif text-xl font-semibold text-mocha mb-3">Unique Designs</h3>
         <p class="text-mocha/70">Each piece is one-of-a-kind, designed to bring joy and personality.</p>
        </div>
       </div>
      </div>
     </section><!-- Process Section -->
     <section class="py-16 sm:py-20 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-4">The Making Process</h2>
        <p class="text-mocha/70">From concept to creation ‚Äì a labor of love</p>
       </div>
       <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="text-center animate-fade-in stagger-1">
         <div class="w-20 h-20 bg-gradient-to-br from-peach to-blush rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
          1
         </div>
         <h3 class="font-serif text-lg font-semibold text-mocha mb-2">Design</h3>
         <p class="text-sm text-mocha/70">Sketching ideas and planning each detail carefully</p>
        </div>
        <div class="text-center animate-fade-in stagger-2">
         <div class="w-20 h-20 bg-gradient-to-br from-blush to-terracotta/30 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
          2
         </div>
         <h3 class="font-serif text-lg font-semibold text-mocha mb-2">Select</h3>
         <p class="text-sm text-mocha/70">Choosing the perfect colors and premium yarns</p>
        </div>
        <div class="text-center animate-fade-in stagger-3">
         <div class="w-20 h-20 bg-gradient-to-br from-terracotta/30 to-peach rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
          3
         </div>
         <h3 class="font-serif text-lg font-semibold text-mocha mb-2">Create</h3>
         <p class="text-sm text-mocha/70">Hand-crocheting with patience and precision</p>
        </div>
        <div class="text-center animate-fade-in stagger-4">
         <div class="w-20 h-20 bg-gradient-to-br from-peach to-ivory rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
          4
         </div>
         <h3 class="font-serif text-lg font-semibold text-mocha mb-2">Perfect</h3>
         <p class="text-sm text-mocha/70">Final touches and quality checks before shipping</p>
        </div>
       </div>
      </div>
     </section>
    </div><!-- CONTACT PAGE -->
    <div id="page-contact" class="page hidden">
     <section class="py-16 sm:py-20 bg-gradient-to-br from-peach/30 to-ivory crochet-pattern min-h-screen">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h1 class="font-serif text-3xl sm:text-5xl font-bold text-mocha mb-4 animate-fade-in">Get in Touch</h1>
        <p class="text-xl text-mocha/70 animate-fade-in stagger-1">I'd love to hear from you!</p>
       </div>
       <div class="grid lg:grid-cols-2 gap-12"><!-- Contact Form -->
        <div class="bg-white rounded-3xl p-8 shadow-sm animate-fade-in stagger-2">
         <h2 class="font-serif text-2xl font-semibold text-mocha mb-6">Send a Message</h2>
         <form onsubmit="handleContactSubmit(event)" class="space-y-6">
          <div><label class="block text-sm font-medium text-mocha mb-2">Your Name</label> <input type="text" required placeholder="Enter your name" class="w-full px-4 py-3 border border-peach/50 rounded-xl text-charcoal placeholder-mocha/50 input-field focus:outline-none">
          </div>
          <div><label class="block text-sm font-medium text-mocha mb-2">Subject</label> <select class="w-full px-4 py-3 border border-peach/50 rounded-xl text-charcoal input-field focus:outline-none"> <option>General Inquiry</option> <option>Custom Order</option> <option>Wholesale/Bulk Order</option> <option>Feedback</option> <option>Other</option> </select>
          </div>
          <div><label class="block text-sm font-medium text-mocha mb-2">Message</label> <textarea rows="4" required placeholder="Tell me about your inquiry..." class="w-full px-4 py-3 border border-peach/50 rounded-xl text-charcoal placeholder-mocha/50 input-field focus:outline-none resize-none"></textarea>
          </div><button type="submit" class="w-full btn-primary py-4 text-ivory font-semibold rounded-full"> Send Message </button>
         </form>
        </div><!-- Contact Info -->
        <div class="space-y-6 animate-fade-in stagger-3"><!-- WhatsApp --> <a href="https://wa.me/919811541912?text=Hi%20Mrs.%20Rajendri!%20I%20found%20your%20crochet%20shop%20and%20I'm%20interested%20in%20your%20products." target="_blank" rel="noopener noreferrer" class="block bg-green-500 text-white rounded-2xl p-6 hover:bg-green-600 transition-colors">
          <div class="flex items-center gap-4">
           <div class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center">
            <svg class="w-7 h-7" fill="currentColor" viewbox="0 0 24 24">
             <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
            </svg>
           </div>
           <div>
            <h3 class="font-serif text-xl font-semibold">Order via WhatsApp</h3>
            <p class="text-white/80">Click to chat directly with me!</p>
           </div>
          </div></a><!-- Instagram --> <a href="https://instagram.com/hand.craft1110" target="_blank" rel="noopener noreferrer" class="block bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white rounded-2xl p-6 hover:opacity-90 transition-opacity">
          <div class="flex items-center gap-4">
           <div class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center">
            <svg class="w-7 h-7" fill="currentColor" viewbox="0 0 24 24">
             <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
            </svg>
           </div>
           <div>
            <h3 class="font-serif text-xl font-semibold">Follow on Instagram</h3>
            <p class="text-white/80">@hand.craft1110</p>
           </div>
          </div></a> <!-- Location -->
         <div class="bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex items-start gap-4">
           <div class="w-14 h-14 bg-blush/50 rounded-full flex items-center justify-center flex-shrink-0">
            <svg class="w-7 h-7 text-mocha" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
           </div>
           <div>
            <h3 class="font-serif text-xl font-semibold text-mocha mb-2">Location</h3>
            <p class="text-mocha/70">Rajouri Garden, Delhi 110027<br>
             Shipping across India üáÆüá≥</p>
           </div>
          </div>
         </div><!-- Working Hours -->
         <div class="bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex items-start gap-4">
           <div class="w-14 h-14 bg-terracotta/20 rounded-full flex items-center justify-center flex-shrink-0">
            <svg class="w-7 h-7 text-mocha" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
           </div>
           <div>
            <h3 class="font-serif text-xl font-semibold text-mocha mb-2">Response Time</h3>
            <p class="text-mocha/70">I typically respond within 24 hours.<br>
             Custom orders take 5-7 days to create.</p>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </section>
    </div><!-- WISHLIST PAGE -->
    <div id="page-wishlist" class="page hidden">
     <section class="py-8 sm:py-12 bg-ivory min-h-screen">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
       <h1 class="font-serif text-3xl sm:text-4xl font-bold text-mocha mb-8">My Wishlist</h1>
       <div id="wishlist-items" class="space-y-4"><!-- Wishlist items will be rendered here -->
       </div>
       <div id="empty-wishlist" class="hidden text-center py-16">
        <div class="w-32 h-32 bg-peach/30 rounded-full flex items-center justify-center mx-auto mb-6"><span class="text-6xl">üíù</span>
        </div>
        <h3 class="font-serif text-2xl text-mocha mb-3">Your wishlist is empty</h3>
        <p class="text-mocha/60 mb-6">Save your favorite items to view them later!</p><button onclick="navigateTo('shop')" class="btn-primary px-6 py-3 text-ivory font-semibold rounded-full"> Explore Products </button>
       </div>
      </div>
     </section>
    </div>
   </main><!-- Footer -->
   <footer class="bg-mocha text-ivory py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
      <div>
       <h3 id="brand-name-footer" class="font-serif text-2xl font-semibold mb-4">handmadewithraj</h3>
       <p class="text-ivory/70 mb-4">Unique crochet creations handcrafted with love and premium materials.</p>
       <div class="flex gap-3"><a href="#" class="w-10 h-10 bg-ivory/20 rounded-full flex items-center justify-center hover:bg-terracotta transition-colors">
         <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
          <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
         </svg></a> <a href="#" class="w-10 h-10 bg-ivory/20 rounded-full flex items-center justify-center hover:bg-terracotta transition-colors">
         <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
          <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981z" />
         </svg></a>
       </div>
      </div>
      <div>
       <h4 class="font-semibold text-lg mb-4">Quick Links</h4>
       <ul class="space-y-2">
        <li><a href="#" onclick="navigateTo('home')" class="text-ivory/70 hover:text-ivory transition-colors">Home</a></li>
        <li><a href="#" onclick="navigateTo('shop')" class="text-ivory/70 hover:text-ivory transition-colors">Shop</a></li>
        <li><a href="#" onclick="navigateTo('about')" class="text-ivory/70 hover:text-ivory transition-colors">About</a></li>
        <li><a href="#" onclick="navigateTo('contact')" class="text-ivory/70 hover:text-ivory transition-colors">Contact</a></li>
       </ul>
      </div>
      <div>
       <h4 class="font-semibold text-lg mb-4">Categories</h4>
       <ul id="footer-categories-links" class="space-y-2"></ul>
      </div>
      <div>
       <h4 class="font-semibold text-lg mb-4">Contact</h4>
       <ul class="space-y-2 text-ivory/70">
        <li>üìç Rajouri Garden, Delhi 110027</li>
        <li>üì± +91 98115 41912</li>
       </ul>
      </div>
     </div>
     <div class="border-t border-ivory/20 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
      <p class="text-ivory/60 text-sm">¬© 2024 handmadewithraj. Made with üíù in India.</p>
      <p class="text-ivory/60 text-sm">All products are handmade and may have slight variations.</p>
     </div>
    </div>
   </footer><!-- Cart Sidebar -->
   <div id="cart-sidebar" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-charcoal/50 modal-backdrop" onclick="toggleCart()"></div>
    <div class="absolute right-0 top-0 h-full w-full max-w-md bg-ivory shadow-2xl transform transition-transform duration-300">
     <div class="flex flex-col h-full">
      <div class="flex items-center justify-between p-6 border-b border-peach/30">
       <h2 class="font-serif text-2xl font-semibold text-mocha">Your Cart</h2><button onclick="toggleCart()" class="p-2 text-mocha hover:text-terracotta">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg></button>
      </div>
      <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4"><!-- Cart items will be rendered here -->
      </div>
      <div id="empty-cart" class="hidden flex-1 flex items-center justify-center p-6">
       <div class="text-center"><span class="text-6xl block mb-4">üõí</span>
        <p class="text-mocha/60">Your cart is empty</p><button onclick="toggleCart(); navigateTo('shop')" class="mt-4 text-terracotta font-medium hover:underline">Start Shopping</button>
       </div>
      </div>
      <div id="cart-footer" class="border-t border-peach/30 p-6 space-y-4">
       <div class="flex justify-between text-lg"><span class="text-mocha">Subtotal:</span> <span id="cart-total" class="font-bold text-terracotta">‚Çπ0</span>
       </div><button onclick="checkoutViaWhatsApp()" class="w-full bg-green-500 text-white py-4 rounded-full font-semibold hover:bg-green-600 transition-colors flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
         <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981z" />
        </svg> Order via WhatsApp </button>
      </div>
     </div>
    </div>
  </div>
  <script>
    // ===================
    // STATE MANAGEMENT
    // ===================
    let products = [];
    let cart = [];
    let wishlist = [];
    let currentPage = 'home';
    let currentProduct = null;
    let currentCategory = 'all';
    let currentPriceRange = 'all';
    let currentSort = 'newest';
    let categories = [];
    let db = null;
    let productsSnapshot = [];
    let categoriesSnapshot = [];
    
    const defaultConfig = {
      brand_name: 'handmadewithraj',
      tagline: 'Artisan Crochet Creations',
      hero_title: 'Beautiful Crochet Creations',
      about_title: 'Our Story',
      founder_name: 'Mrs. Rajendri'
    };

    const DEFAULT_CATEGORIES = [
      { key: 'keychains', label: 'Keychains' },
      { key: 'toys', label: 'Toys' },
      { key: 'accessories', label: 'Hair Accessories' },
      { key: 'gifts', label: 'Gift Sets' }
    ];

    function slugifyCategory(name) {
      return name.toLowerCase().trim().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');
    }

    function formatCategoryFromKey(key) {
      if (!key) return 'Product';
      return key.replace(/-/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
    }

    function normalizeCategories(rawCategories) {
      const map = new Map();
      DEFAULT_CATEGORIES.forEach(cat => {
        map.set(cat.key, { key: cat.key, label: cat.label, isDefault: true });
      });

      rawCategories.forEach(item => {
        const key = slugifyCategory(item.key || item.slug || item.name || '');
        const label = (item.label || item.name || '').trim();
        if (!key || !label) return;
        map.set(key, {
          key,
          label,
          isDefault: false,
          __backendId: item.__backendId,
          __raw: item
        });
      });

      return Array.from(map.values()).sort((a, b) => a.label.localeCompare(b.label));
    }

    function getCategoryLabel(key) {
      const found = categories.find(cat => cat.key === key);
      if (found) return found.label;
      return formatCategoryFromKey(key);
    }
    
    function applyFirestoreData() {
      products = productsSnapshot.map(item => {
        const product = { ...item };
        if (product.createdAt && typeof product.createdAt.toDate === 'function') {
          product.createdAt = product.createdAt.toDate().toISOString();
        }
        return product;
      });

      categories = normalizeCategories(categoriesSnapshot);
      products.forEach(product => {
        const key = slugifyCategory(product.category || '');
        if (!key || categories.some(cat => cat.key === key)) return;
        categories.push({ key, label: formatCategoryFromKey(key), isDefault: false });
      });
      categories.sort((a, b) => a.label.localeCompare(b.label));

      const hasCurrentCategory = currentCategory === 'all' || categories.some(cat => cat.key === currentCategory);
      if (!hasCurrentCategory) currentCategory = 'all';

      renderCategoryFilters();
      renderHomeCategoryCards();
      renderFooterCategories();
      renderProducts();
    }

    function initializeFirestoreListeners() {
      db.collection('products').onSnapshot((snapshot) => {
        productsSnapshot = snapshot.docs.map((doc) => ({ __backendId: doc.id, ...doc.data() }));
        applyFirestoreData();
      }, () => {
        showToast('Failed to load products', 'error');
      });

      db.collection('categories').onSnapshot((snapshot) => {
        categoriesSnapshot = snapshot.docs.map((doc) => ({ __backendId: doc.id, __raw: { __backendId: doc.id, ...doc.data() }, ...doc.data() }));
        applyFirestoreData();
      }, () => {
        showToast('Failed to load categories', 'error');
      });
    }

    async function initializeApp() {
      updateUIFromConfig(defaultConfig);
      categories = normalizeCategories([]);
      renderCategoryFilters();
      renderHomeCategoryCards();
      renderFooterCategories();
      renderCart();
      renderWishlist();

      if (!window.FIREBASE_CONFIG || window.FIREBASE_CONFIG.apiKey === 'REPLACE_ME') {
        showToast('Add Firebase config in js/firebase-web-config.local.js', 'error');
        return;
      }

      try {
        if (!firebase.apps.length) {
          firebase.initializeApp(window.FIREBASE_CONFIG);
        }
        db = firebase.firestore();
        initializeFirestoreListeners();
      } catch (error) {
        console.error(error);
        showToast('Firebase initialization failed', 'error');
      }
    }
    
    function updateUIFromConfig(config) {
      const brandName = config.brand_name || defaultConfig.brand_name;
      const tagline = config.tagline || defaultConfig.tagline;
      const heroTitle = config.hero_title || defaultConfig.hero_title;
      const aboutTitle = config.about_title || defaultConfig.about_title;
      const founderName = config.founder_name || defaultConfig.founder_name;
      
      const brandNameHeader = document.getElementById('brand-name-header');
      if (brandNameHeader) brandNameHeader.textContent = brandName;
      
      const taglineHeader = document.getElementById('tagline-header');
      if (taglineHeader) taglineHeader.textContent = tagline;
      
      const brandNameFooter = document.getElementById('brand-name-footer');
      if (brandNameFooter) brandNameFooter.textContent = brandName;
      
      const heroTitleEl = document.getElementById('hero-title');
      if (heroTitleEl) {
        const words = heroTitle.split(' ');
        if (words.length > 1) {
          const lastWord = words.pop();
          heroTitleEl.innerHTML = `${words.join(' ')}<br><span class="text-terracotta">${lastWord}</span>`;
        } else {
          heroTitleEl.textContent = heroTitle;
        }
      }
      
      const aboutTitleEl = document.getElementById('about-title');
      if (aboutTitleEl) aboutTitleEl.textContent = aboutTitle;
      
      const founderNameEl = document.getElementById('founder-name');
      if (founderNameEl) founderNameEl.textContent = founderName;
    }
    
    // ===================
    // NAVIGATION
    // ===================
    function navigateTo(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
      const targetPage = document.getElementById(`page-${page}`);
      if (targetPage) {
        targetPage.classList.remove('hidden');
        currentPage = page;
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Update nav active state
        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
          if (link.dataset.page === page) {
            link.classList.add('active');
          }
        });
        
        // Render page-specific content
        if (page === 'shop') {
          renderShopProducts();
        } else if (page === 'wishlist') {
          renderWishlist();
        }
      }
    }
    
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const menuIcon = document.getElementById('menu-icon');
      const closeIcon = document.getElementById('close-icon');
      
      menu.classList.toggle('hidden');
      menuIcon.classList.toggle('hidden');
      closeIcon.classList.toggle('hidden');
    }
    
    function toggleSearch() {
      const searchBar = document.getElementById('search-bar');
      searchBar.classList.toggle('hidden');
      if (!searchBar.classList.contains('hidden')) {
        document.getElementById('search-input').focus();
      }
    }
    
    function handleSearch(event) {
      if (event.key === 'Enter') {
        const query = event.target.value.toLowerCase().trim();
        if (query) {
          navigateTo('shop');
          // Filter products by search query
          renderShopProducts(query);
        }
      }
    }

    function renderCategoryFilters() {
      const container = document.getElementById('category-filters');
      if (!container) return;

      const options = [
        { key: 'all', label: 'All Products' },
        ...categories.map(cat => ({ key: cat.key, label: cat.label }))
      ];

      container.innerHTML = options.map(option => `
        <label class="flex items-center gap-3 cursor-pointer group">
          <input type="radio" name="category" value="${option.key}" ${currentCategory === option.key ? 'checked' : ''} onchange="filterByCategory('${option.key}')" class="w-4 h-4 text-terracotta focus:ring-terracotta">
          <span class="text-mocha/80 group-hover:text-terracotta transition-colors">${option.label}</span>
        </label>
      `).join('');
    }

    function renderFooterCategories() {
      const container = document.getElementById('footer-categories-links');
      if (!container) return;

      if (!categories.length) {
        container.innerHTML = '<li class="text-ivory/70">No categories yet</li>';
        return;
      }

      container.innerHTML = categories.map(cat => `
        <li><a href="#" onclick="filterByCategory('${cat.key}')" class="text-ivory/70 hover:text-ivory transition-colors">${cat.label}</a></li>
      `).join('');
    }

    function renderHomeCategoryCards() {
      const container = document.getElementById('home-category-grid');
      if (!container) return;

      if (!categories.length) {
        container.innerHTML = '';
        return;
      }

      const emojis = ['üîë', 'üß∏', 'üéÄ', 'üéÅ', 'üå∏', 'üßµ', 'ü™°', 'üíù'];
      const gradients = [
        'from-peach/50 to-blush/50',
        'from-blush/50 to-terracotta/20',
        'from-terracotta/20 to-peach/50',
        'from-peach/50 to-ivory',
        'from-blush/40 to-peach/30',
        'from-ivory to-blush/40'
      ];

      container.innerHTML = categories.map((cat, index) => `
        <button onclick="filterByCategory('${cat.key}')" class="group bg-gradient-to-br ${gradients[index % gradients.length]} rounded-2xl p-6 sm:p-8 text-center hover:shadow-xl transition-all animate-fade-in stagger-${(index % 5) + 1}">
          <div class="w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-md">
            <span class="text-3xl sm:text-4xl">${emojis[index % emojis.length]}</span>
          </div>
          <h3 class="font-serif text-lg sm:text-xl font-semibold text-mocha">${cat.label}</h3>
          <p class="text-sm text-mocha/60 mt-1">Explore collection</p>
        </button>
      `).join('');
    }

    function getProductVisualHtml(product, emojiClass = 'text-7xl') {
      if (product.image_url) {
        return `<img src="${product.image_url}" alt="${product.name}" class="w-full h-full object-cover product-image" loading="lazy" onerror="this.onerror=null; this.outerHTML='<span class=&quot;${emojiClass}&quot;>üß∂</span>';">`;
      }
      return `<span class="product-image ${emojiClass}">${product.image || 'üß∂'}</span>`;
    }
    
    // ===================
    // PRODUCT RENDERING
    // ===================
    function renderProducts() {
      renderFeaturedProducts();
      renderShopProducts();
    }
    
    function renderFeaturedProducts() {
      const grid = document.getElementById('featured-products-grid');
      const noProducts = document.getElementById('no-featured-products');
      
      const featured = products.filter(p => p.featured);
      const displayProducts = featured.length > 0 ? featured.slice(0, 4) : products.slice(0, 4);
      
      if (displayProducts.length === 0) {
        grid.innerHTML = '';
        noProducts.classList.remove('hidden');
        return;
      }
      
      noProducts.classList.add('hidden');
      grid.innerHTML = displayProducts.map((product, index) => createProductCard(product, index)).join('');
    }
    
    function renderShopProducts(searchQuery = '') {
      const grid = document.getElementById('shop-products-grid');
      const noProducts = document.getElementById('no-shop-products');
      const countEl = document.getElementById('product-count');
      
      let filtered = [...products];
      
      // Apply category filter
      if (currentCategory !== 'all') {
        filtered = filtered.filter(p => slugifyCategory(p.category || '') === currentCategory);
      }
      
      // Apply price filter
      if (currentPriceRange !== 'all') {
        if (currentPriceRange === '0-200') {
          filtered = filtered.filter(p => p.price < 200);
        } else if (currentPriceRange === '200-500') {
          filtered = filtered.filter(p => p.price >= 200 && p.price <= 500);
        } else if (currentPriceRange === '500+') {
          filtered = filtered.filter(p => p.price > 500);
        }
      }
      
      // Apply search filter
      if (searchQuery) {
        filtered = filtered.filter(p => 
          p.name.toLowerCase().includes(searchQuery) || 
          p.description.toLowerCase().includes(searchQuery) ||
          p.category.toLowerCase().includes(searchQuery)
        );
      }
      
      // Apply sorting
      if (currentSort === 'newest') {
        filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
      } else if (currentSort === 'price-low') {
        filtered.sort((a, b) => a.price - b.price);
      } else if (currentSort === 'price-high') {
        filtered.sort((a, b) => b.price - a.price);
      } else if (currentSort === 'name') {
        filtered.sort((a, b) => a.name.localeCompare(b.name));
      }
      
      if (countEl) countEl.textContent = `${filtered.length} product${filtered.length !== 1 ? 's' : ''}`;
      
      if (filtered.length === 0) {
        grid.innerHTML = '';
        noProducts.classList.remove('hidden');
        return;
      }
      
      noProducts.classList.add('hidden');
      grid.innerHTML = filtered.map((product, index) => createProductCard(product, index)).join('');
    }
    
    function createProductCard(product, index) {
      const isInWishlist = wishlist.some(w => w.__backendId === product.__backendId);
      
      return `
        <div class="product-card bg-white rounded-2xl overflow-hidden shadow-sm animate-fade-in stagger-${(index % 5) + 1}">
          <div class="relative">
            <button onclick="viewProduct('${product.__backendId}')" class="w-full aspect-square bg-gradient-to-br from-peach/50 to-blush/50 flex items-center justify-center overflow-hidden">
              ${getProductVisualHtml(product, 'text-7xl')}
            </button>
            <button onclick="toggleWishlist('${product.__backendId}')" class="absolute top-4 right-4 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center shadow-md hover:scale-110 transition-transform">
              <svg class="w-5 h-5 ${isInWishlist ? 'text-red-500 fill-current' : 'text-mocha'}" fill="${isInWishlist ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
              </svg>
            </button>
            ${product.featured ? '<span class="absolute top-4 left-4 px-2 py-1 bg-terracotta text-white text-xs rounded-full">‚≠ê Featured</span>' : ''}
          </div>
          <div class="p-5">
            <span class="text-xs text-terracotta font-medium uppercase tracking-wide">${getCategoryLabel(product.category)}</span>
            <h3 class="font-serif text-lg font-semibold text-mocha mt-1 mb-2 line-clamp-1">${product.name}</h3>
            <p class="text-mocha/60 text-sm line-clamp-2 mb-4">${product.description}</p>
            <div class="flex items-center justify-between">
              <span class="text-xl font-bold text-terracotta">‚Çπ${product.price}</span>
              <button onclick="addToCart('${product.__backendId}')" class="px-4 py-2 bg-mocha text-ivory rounded-full text-sm font-medium hover:bg-terracotta transition-colors">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      `;
    }
    
    // ===================
    // PRODUCT DETAIL
    // ===================
    function viewProduct(productId) {
      const product = products.find(p => p.__backendId === productId);
      if (!product) return;
      
      currentProduct = product;
      
      document.getElementById('product-breadcrumb').textContent = product.name;
      document.getElementById('product-title').textContent = product.name;
      document.getElementById('product-price').textContent = `‚Çπ${product.price}`;
      document.getElementById('product-description').textContent = product.description;
      document.getElementById('product-quantity').value = 1;
      
      document.getElementById('product-category-badge').textContent = getCategoryLabel(product.category);
      
      const mainImage = document.getElementById('product-main-image');
      mainImage.innerHTML = getProductVisualHtml(product, 'text-9xl');
      
      // Render similar products
      const similar = products.filter(p => p.category === product.category && p.__backendId !== productId).slice(0, 4);
      const similarGrid = document.getElementById('similar-products-grid');
      if (similar.length > 0) {
        similarGrid.innerHTML = similar.map((p, i) => createProductCard(p, i)).join('');
      } else {
        similarGrid.innerHTML = '<p class="col-span-full text-center text-mocha/60">No similar products found</p>';
      }
      
      navigateTo('product');
    }
    
    function incrementQuantity() {
      const input = document.getElementById('product-quantity');
      input.value = parseInt(input.value) + 1;
    }
    
    function decrementQuantity() {
      const input = document.getElementById('product-quantity');
      if (parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
    }
    
    function addCurrentProductToCart() {
      if (!currentProduct) return;
      const quantity = parseInt(document.getElementById('product-quantity').value);
      for (let i = 0; i < quantity; i++) {
        addToCart(currentProduct.__backendId);
      }
    }
    
    function addCurrentProductToWishlist() {
      if (!currentProduct) return;
      toggleWishlist(currentProduct.__backendId);
    }
    
    function shareOnWhatsApp() {
      if (!currentProduct) return;
      const text = `Check out this beautiful handmade ${currentProduct.name} from handmadewithraj! ‚Çπ${currentProduct.price}`;
      window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
    }
    
    // ===================
    // FILTERS & SORTING
    // ===================
    function filterByCategory(category) {
      currentCategory = category;
      if (currentPage !== 'shop') {
        navigateTo('shop');
      }
      renderShopProducts();
      
      // Update radio buttons
      document.querySelectorAll('input[name="category"]').forEach(radio => {
        radio.checked = radio.value === category;
      });
    }
    
    function filterByPrice(range) {
      currentPriceRange = range;
      renderShopProducts();
    }
    
    function sortProducts(sortBy) {
      currentSort = sortBy;
      renderShopProducts();
    }
    
    function resetFilters() {
      currentCategory = 'all';
      currentPriceRange = 'all';
      currentSort = 'newest';
      
      document.querySelectorAll('input[name="category"]').forEach(radio => {
        radio.checked = radio.value === 'all';
      });
      document.querySelectorAll('input[name="price"]').forEach(radio => {
        radio.checked = radio.value === 'all';
      });
      document.querySelector('select[onchange="sortProducts(this.value)"]').value = 'newest';
      
      renderShopProducts();
    }
    
    // ===================
    // CART MANAGEMENT
    // ===================
    function toggleCart() {
      const sidebar = document.getElementById('cart-sidebar');
      sidebar.classList.toggle('hidden');
    }
    
    function addToCart(productId) {
      const product = products.find(p => p.__backendId === productId);
      if (!product) return;
      
      const existingIndex = cart.findIndex(item => item.product.__backendId === productId);
      if (existingIndex >= 0) {
        cart[existingIndex].quantity++;
      } else {
        cart.push({ product, quantity: 1 });
      }
      
      renderCart();
      showToast(`${product.name} added to cart!`, 'success');
    }
    
    function removeFromCart(productId) {
      cart = cart.filter(item => item.product.__backendId !== productId);
      renderCart();
    }
    
    function updateCartQuantity(productId, change) {
      const item = cart.find(item => item.product.__backendId === productId);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          removeFromCart(productId);
        } else {
          renderCart();
        }
      }
    }
    
    function renderCart() {
      const cartItems = document.getElementById('cart-items');
      const emptyCart = document.getElementById('empty-cart');
      const cartFooter = document.getElementById('cart-footer');
      const cartCount = document.getElementById('cart-count');
      const cartTotal = document.getElementById('cart-total');
      
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      const totalPrice = cart.reduce((sum, item) => sum + (item.product.price * item.quantity), 0);
      
      cartCount.textContent = totalItems;
      cartTotal.textContent = `‚Çπ${totalPrice}`;
      
      if (cart.length === 0) {
        cartItems.classList.add('hidden');
        emptyCart.classList.remove('hidden');
        cartFooter.classList.add('hidden');
        return;
      }
      
      cartItems.classList.remove('hidden');
      emptyCart.classList.add('hidden');
      cartFooter.classList.remove('hidden');
      
      cartItems.innerHTML = cart.map(item => `
        <div class="flex flex-col sm:flex-row gap-4 bg-white rounded-xl p-4">
          <div class="w-20 h-20 bg-gradient-to-br from-peach/50 to-blush/50 rounded-lg flex items-center justify-center flex-shrink-0">
            ${item.product.image_url ? `<img src="${item.product.image_url}" alt="${item.product.name}" class="w-full h-full object-cover rounded-lg">` : `<span class="text-3xl">${item.product.image || 'üß∂'}</span>`}
          </div>
          <div class="flex-1 min-w-0">
            <h4 class="font-medium text-mocha truncate">${item.product.name}</h4>
            <p class="text-terracotta font-semibold">‚Çπ${item.product.price}</p>
            <div class="flex items-center gap-2 mt-2">
              <button onclick="updateCartQuantity('${item.product.__backendId}', -1)" class="w-6 h-6 bg-peach/50 rounded-full flex items-center justify-center text-mocha hover:bg-peach">-</button>
              <span class="text-mocha">${item.quantity}</span>
              <button onclick="updateCartQuantity('${item.product.__backendId}', 1)" class="w-6 h-6 bg-peach/50 rounded-full flex items-center justify-center text-mocha hover:bg-peach">+</button>
            </div>
          </div>
          <button onclick="removeFromCart('${item.product.__backendId}')" class="text-mocha/50 hover:text-red-500 self-start">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
      `).join('');
    }
    
    function checkoutViaWhatsApp() {
      if (cart.length === 0) return;
      
      let message = "Hi Mrs. Rajendri! I'd like to order the following items:\n\n";
      let total = 0;
      
      cart.forEach(item => {
        message += `‚Ä¢ ${item.product.name} x${item.quantity} - ‚Çπ${item.product.price * item.quantity}\n`;
        total += item.product.price * item.quantity;
      });
      
      message += `\n*Total: ‚Çπ${total}*\n\nPlease let me know the next steps for payment and delivery. Thank you!`;
      
      window.open(`https://wa.me/919811541912?text=${encodeURIComponent(message)}`, '_blank');
    }
    
    // ===================
    // WISHLIST MANAGEMENT
    // ===================
    function toggleWishlist(productId) {
      const product = products.find(p => p.__backendId === productId);
      if (!product) return;
      
      const existingIndex = wishlist.findIndex(w => w.__backendId === productId);
      if (existingIndex >= 0) {
        wishlist.splice(existingIndex, 1);
        showToast('Removed from wishlist', 'info');
      } else {
        wishlist.push(product);
        showToast(`${product.name} added to wishlist!`, 'success');
      }
      
      updateWishlistCount();
      renderProducts();
      renderWishlist();
    }
    
    function updateWishlistCount() {
      const countEl = document.getElementById('wishlist-count');
      if (wishlist.length > 0) {
        countEl.textContent = wishlist.length;
        countEl.classList.remove('hidden');
      } else {
        countEl.classList.add('hidden');
      }
    }
    
    function renderWishlist() {
      const container = document.getElementById('wishlist-items');
      const emptyWishlist = document.getElementById('empty-wishlist');
      
      updateWishlistCount();
      
      if (wishlist.length === 0) {
        container.innerHTML = '';
        emptyWishlist.classList.remove('hidden');
        return;
      }
      
      emptyWishlist.classList.add('hidden');
      container.innerHTML = wishlist.map(product => `
        <div class="flex flex-col sm:flex-row gap-4 bg-white rounded-xl p-4 shadow-sm">
          <button onclick="viewProduct('${product.__backendId}')" class="w-24 h-24 bg-gradient-to-br from-peach/50 to-blush/50 rounded-lg flex items-center justify-center flex-shrink-0">
            ${product.image_url ? `<img src="${product.image_url}" alt="${product.name}" class="w-full h-full object-cover rounded-lg">` : `<span class="text-4xl">${product.image || 'üß∂'}</span>`}
          </button>
          <div class="flex-1 min-w-0">
            <h4 class="font-serif font-semibold text-mocha">${product.name}</h4>
            <p class="text-terracotta font-bold text-lg">‚Çπ${product.price}</p>
            <div class="flex gap-2 mt-3">
              <button onclick="addToCart('${product.__backendId}')" class="px-4 py-2 bg-mocha text-ivory rounded-full text-sm font-medium hover:bg-terracotta transition-colors">
                Add to Cart
              </button>
              <button onclick="toggleWishlist('${product.__backendId}')" class="px-4 py-2 border border-red-500 text-red-500 rounded-full text-sm font-medium hover:bg-red-500 hover:text-white transition-colors">
                Remove
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }
    // ===================
    // FORM HANDLERS
    // ===================
    function handleNewsletterSubmit(event) {
      event.preventDefault();
      const email = document.getElementById('newsletter-email').value;
      showToast('Thanks for subscribing! üéâ', 'success');
      document.getElementById('newsletter-email').value = '';
    }
    
    function handleContactSubmit(event) {
      event.preventDefault();
      showToast('Message sent! I\'ll get back to you soon üíù', 'success');
      event.target.reset();
    }
    
    // ===================
    // TOAST NOTIFICATIONS
    // ===================
    function showToast(message, type = 'info') {
      const container = document.getElementById('toast-container');
      const toast = document.createElement('div');
      
      const bgColors = {
        success: 'bg-green-500',
        error: 'bg-red-500',
        info: 'bg-mocha'
      };
      
      toast.className = `toast ${bgColors[type]} text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2`;
      toast.innerHTML = `
        <span>${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : '‚Ñπ'}</span>
        <span>${message}</span>
      `;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }
    
    // ===================
    // INITIALIZE
    // ===================
    initializeApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d37d4b706f05969',t:'MTc3MjAyOTA5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
